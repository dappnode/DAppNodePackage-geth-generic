endpoints:
  - name: "Mainnet ETH Node Syncing Check"
    enabled: true
    group: "ethereum"
    url: "http://geth.dappnode:8545"
    method: "POST"
    body: |
      {"jsonrpc": "2.0", "id": 1, "method": "eth_syncing", "params": []}
    headers:
      Content-Type: "application/json"
    interval: "30s"
    conditions:
      - "([STATUS] == 200 && [BODY].result == false)"
    definition:
      title: "Mainnet ETH Node Synced Check"
      description: "Check if the Mainnet ETH Node is synced. You will receive a notification if the node is syncing and another one when it is synced."
    alerts:
      - type: custom
        enabled: true
        description: "Geth Ethereum Node syncing"
        failure-threshold: 2
        success-threshold: 1
        send-on-resolved: true